extends layout

block content
  h1= title
  p Version: #{version}
  
  div(style="margin: 20px 0;")
    a(href="/new", style="display: inline-block; padding: 10px 20px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px;") Upload New Image
  
  if error
    p(style="color: red;")= error
  
  if images && images.length > 0
    div(style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;")
      each image in images
        div(style="border: 1px solid #ddd; border-radius: 8px; padding: 15px; background-color: #f9f9f9;")
          img(src="/images/" + image.path, alt=image.name, style="width: 100%; height: auto; border-radius: 5px; margin-bottom: 10px;")
          h3(style="margin: 10px 0 5px 0;")= image.name
          if image.author
            p(style="margin: 5px 0; color: #666;") Author: #{image.author}
          if image.description
            p(style="margin: 5px 0; color: #555;")= image.description
          p(style="margin: 5px 0; font-size: 0.9em; color: #999;")= new Date(image.date).toLocaleDateString()
  else
    p(style="margin-top: 20px; color: #666;") No images yet. 
      a(href="/new") Upload the first one!