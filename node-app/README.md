# Node Application

Фотогалерея на NodeJS

## Стек технологий

- NodeJS (веб-фреймворк Express)
- MySQL

## Запуск с Docker (рекомендуется)

**Требования:** Docker и Docker Compose должны быть установлены

1. Перейдите в директорию проекта:
   ```bash
   cd node-app
   ```

2. Запустите приложение и базу данных:
   ```bash
   docker-compose up -d
   ```

3. Приложение будет доступно по адресу: http://localhost:3000

4. Для остановки:
   ```bash
   docker-compose down
   ```

5. Для просмотра логов:
   ```bash
   docker-compose logs -f
   ```

**Примечание:** База данных автоматически инициализируется скриптом `init.sql` при первом запуске. Данные сохраняются в Docker volume `mysql_data`.

## Локальный запуск (без Docker)

*примеры команд ниже указаны для unix-подобных ОС, с виндой разбирайтесь сами*

1. Ставим БД MySQL (любой версии) для своей ОС 
([тык](https://dev.mysql.com/doc/mysql-installation-excerpt/5.7/en/)), 
запускаем и проверяем работоспособность

2. Устанавливаем [npm и nodejs](https://nodejs.org/en/download/) (hard way)

3. ... или ставим триалку WebStorm, которая сама поставит всё необходимое (easy way)

4. Меняем креды в файле `db.js`, чтобы они соответствовали вашим (или используйте переменные окружения)

5. Загоняем в БД скрипт `init.sql` для создания таблиц по умолчанию

6. Ставим зависимости командой ` $ npm install`

7. Запускаем приложение командой ` $ npm start`

## Переменные окружения

Приложение поддерживает следующие переменные окружения:

- `DB_HOST` - хост базы данных (по умолчанию: localhost)
- `DB_USER` - пользователь базы данных (по умолчанию: mysql)
- `DB_PASSWORD` - пароль базы данных (по умолчанию: mysql)
- `DB_NAME` - имя базы данных (по умолчанию: db)
- `PORT` - порт приложения (по умолчанию: 3000)

## Дополнительно

API доступен по адресу http://localhost:3000

[Документация Postman](https://www.getpostman.com/collections/87776fd4abf2af4bdb6d)
