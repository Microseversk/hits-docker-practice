# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è PhotoGallery

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 2025-12-28  
**–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** 0.1.0  
**–¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:** Docker (Node.js 18, MySQL 8.0)

## üìä –°–≤–æ–¥–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| Endpoint | –£—Ä–æ–≤–µ–Ω—å –Ω–∞–≥—Ä—É–∑–∫–∏ | RPS | Latency (avg) | Error Rate | –°—Ç–∞—Ç—É—Å |
|----------|------------------|-----|---------------|------------|--------|
| GET `/` | Low (10 conn, 10s) | 327.20 | 30.05 ms | 0.00% | ‚úÖ PASS |
| GET `/` | Medium (50 conn, 30s) | 324.94 | 153.20 ms | 0.00% | ‚úÖ PASS |
| GET `/` | High (100 conn, 60s) | 329.09 | 302.91 ms | 0.00% | ‚úÖ PASS |
| GET `/all` | Low (10 conn, 10s) | 2365.73 | 3.62 ms | 0.00% | ‚úÖ PASS |
| GET `/all` | High (100 conn, 60s) | 2318.74 | 42.63 ms | 0.00% | ‚úÖ PASS |
| GET `/new` | Normal (20 conn, 15s) | 460.20 | 42.93 ms | 0.00% | ‚úÖ PASS |

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### GET `/` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ HTML —à–∞–±–ª–æ–Ω–∞ (Pug)
- –ó–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –û—Ç–ø—Ä–∞–≤–∫–∞ HTML –æ—Ç–≤–µ—Ç–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

| –ú–µ—Ç—Ä–∏–∫–∞ | Low Load | Medium Load | High Load |
|---------|----------|-------------|-----------|
| **RPS** | 327.20 | 324.94 | 329.09 |
| **Latency (avg)** | 30.05 ms | 153.20 ms | 302.91 ms |
| **Latency (min)** | 12.00 ms | 29.00 ms | 172.00 ms |
| **Latency (max)** | 55.00 ms | 276.00 ms | 462.00 ms |
| **Latency (p99)** | 42.00 ms | 192.00 ms | 360.00 ms |
| **Throughput** | 534.95 KB/s | 531.17 KB/s | 538.01 KB/s |
| **Total Requests** | 3,272 | 9,748 | 19,745 |
| **Errors** | 0 | 0 | 0 |

**–í—ã–≤–æ–¥—ã:**
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π RPS (~325 req/s) –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚ö†Ô∏è –ó–∞–¥–µ—Ä–∂–∫–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å —Ä–æ—Å—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (30ms ‚Üí 303ms)
- ‚úÖ –ù—É–ª–µ–≤–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–æ 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### GET `/all` - API endpoint

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- JSON –æ—Ç–≤–µ—Ç (–±–µ–∑ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —à–∞–±–ª–æ–Ω–æ–≤)
- –ó–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

| –ú–µ—Ç—Ä–∏–∫–∞ | Low Load | High Load |
|---------|----------|-----------|
| **RPS** | 2365.73 | 2318.74 |
| **Latency (avg)** | 3.62 ms | 42.63 ms |
| **Latency (min)** | 1.00 ms | 24.00 ms |
| **Latency (max)** | 285.00 ms | 104.00 ms |
| **Latency (p99)** | 7.00 ms | 62.00 ms |
| **Throughput** | 1321.30 KB/s | 1294.95 KB/s |
| **Total Requests** | 26,020 | 139,096 |
| **Errors** | 0 | 0 |

**–í—ã–≤–æ–¥—ã:**
- ‚úÖ –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π RPS (~2300 req/s) - –æ—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–∞–∂–µ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ (3.62ms ‚Üí 42.63ms)
- ‚úÖ API endpoint –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ HTML —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ 139,096 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 60 —Å–µ–∫—É–Ω–¥ –±–µ–∑ –æ—à–∏–±–æ–∫

### GET `/new` - –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ HTML —Ñ–æ—Ä–º—ã
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **RPS** | 460.20 |
| **Latency (avg)** | 42.93 ms |
| **Latency (min)** | 17.00 ms |
| **Latency (max)** | 81.00 ms |
| **Latency (p99)** | 61.00 ms |
| **Total Requests** | 6,903 |
| **Errors** | 0 |

**–í—ã–≤–æ–¥—ã:**
- ‚úÖ –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (~460 req/s)
- ‚úÖ –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (~43ms)
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

## üìà –ì—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ (GET `/`)

```
Latency (ms)
    |
 350|                                    ‚óè High Load
    |                              ‚óè
 300|                        ‚óè
    |                  ‚óè
 250|            ‚óè
    |      ‚óè
 200|  ‚óè Medium Load
    |‚óè
 150|  ‚óè
    |    ‚óè
 100|      ‚óè
    |        ‚óè
  50|          ‚óè Low Load
    |            ‚óè
   0|_____________________________
    0    20    40    60    80   100
          Connections
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ RPS –ø–æ endpoints

```
RPS
    |
2500|                    ‚óè GET /all
    |                    ‚óè
2000|                    ‚óè
    |                    ‚óè
1500|                    ‚óè
    |
1000|
    |
 500|        ‚óè GET /new
    |        ‚óè
    |  ‚óè GET /
    |  ‚óè
   0|__‚óè________________________
     GET /  GET /new  GET /all
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤:** 204,984
- **–í—Å–µ–≥–æ –æ—à–∏–±–æ–∫:** 0
- **–û–±—â–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫:** 0.00%
- **–°—Ä–µ–¥–Ω–∏–π RPS:** ~1,000 req/s (–ø–æ –≤—Å–µ–º —Ç–µ—Å—Ç–∞–º)
- **–°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞:** ~96 ms

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ —Ç–∏–ø–∞–º –∑–∞–ø—Ä–æ—Å–æ–≤

1. **API endpoints (JSON):** ~2,300 RPS, ~20ms latency
2. **HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥):** ~330 RPS, ~160ms latency
3. **–§–æ—Ä–º—ã:** ~460 RPS, ~43ms latency

## ‚úÖ –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. ‚úÖ **–û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å API** - GET `/all` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ~2,300 RPS
2. ‚úÖ **–ù—É–ª–µ–≤–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö –Ω–∞–≥—Ä—É–∑–∫–∏
3. ‚úÖ **–•–æ—Ä–æ—à–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - RPS –æ—Å—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω—ã–º –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏
4. ‚úÖ **–ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ API** - —Å—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞ ~20ms –¥–ª—è JSON endpoints

### –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (GET `/`):**
   - –ó–∞–¥–µ—Ä–∂–∫–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å 30ms –¥–æ 303ms –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
     - –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î
     - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
     - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã (–∏–Ω–¥–µ–∫—Å—ã)
     - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ü—Ä–∏ —Ç–µ–∫—É—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
   - –î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:
     - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—é Node.js (cluster module)
     - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–º –Ω–∞–≥—Ä—É–∑–∫–∏
     - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ë–î

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å:
     - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (Prometheus, Grafana)
     - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
     - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üîß –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ—Ä–æ–≥–∏:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ |
|---------|----------------|-------------|
| **RPS (GET `/`)** | < 200 | < 100 |
| **Latency (GET `/`)** | > 500ms | > 1000ms |
| **RPS (GET `/all`)** | < 1500 | < 1000 |
| **Latency (GET `/all`)** | > 100ms | > 500ms |
| **Error Rate** | > 0.1% | > 1% |

## üìù –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **autocannon** v7.12.0 - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **cli-table3** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Low Load:** 10 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, 10 —Å–µ–∫—É–Ω–¥
2. **Medium Load:** 50 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, 30 —Å–µ–∫—É–Ω–¥
3. **High Load:** 100 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, 60 —Å–µ–∫—É–Ω–¥

### –ú–µ—Ç—Ä–∏–∫–∏

- **RPS (Requests Per Second)** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- **Latency** - –∑–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç–≤–µ—Ç–∞ (avg, min, max, p99)
- **Throughput** - –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (KB/s)
- **Error Rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫
- **HTTP Status Codes** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (5 —Å–µ–∫—É–Ω–¥ –Ω–∞ endpoint)
npm run loadtest:quick

# –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
npm run loadtest

# –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
npm run loadtest:all
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [autocannon –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/mcollina/autocannon)
- [Node.js Performance Best Practices](https://nodejs.org/en/docs/guides/simple-profiling/)
- [MySQL Performance Tuning](https://dev.mysql.com/doc/refman/8.0/en/optimization.html)

