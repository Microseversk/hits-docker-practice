# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ PhotoGallery

## üéØ –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 2025-12-28  
**–í–µ—Ä—Å–∏—è:** 0.1.0  
**–û–∫—Ä—É–∂–µ–Ω–∏–µ:** Docker (Node.js 18, MySQL 8.0)

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| **–°—Ä–µ–¥–Ω–∏–π RPS** | 1,036.65 req/s | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **–°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞** | 72.88 ms | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **–ü—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫** | 0.00% | ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ |
| **–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤** | 204,984 | ‚úÖ –£—Å–ø–µ—à–Ω–æ |

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ endpoints

### GET `/` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- HTML —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (Pug templates)
- –ó–∞–ø—Ä–æ—Å –∫ –ë–î –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –û—Ç–ø—Ä–∞–≤–∫–∞ HTML –æ—Ç–≤–µ—Ç–∞

| –£—Ä–æ–≤–µ–Ω—å –Ω–∞–≥—Ä—É–∑–∫–∏ | RPS | Latency (avg) | Latency (p99) | Errors | Status |
|------------------|-----|--------------|---------------|--------|--------|
| Low (10 conn) | 327.20 | 30.05 ms | 42.00 ms | 0 | ‚úÖ PASS |
| Medium (50 conn) | 324.94 | 153.20 ms | 192.00 ms | 0 | ‚úÖ PASS |
| High (100 conn) | 329.09 | 302.91 ms | 360.00 ms | 0 | ‚úÖ PASS |

**–í—ã–≤–æ–¥—ã:**
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π RPS (~325 req/s) –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚ö†Ô∏è –ó–∞–¥–µ—Ä–∂–∫–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å —Ä–æ—Å—Ç–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (30ms ‚Üí 303ms)
- ‚úÖ –ù—É–ª–µ–≤–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ 19,745 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 60 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ

### GET `/all` - API endpoint

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- JSON –æ—Ç–≤–µ—Ç (–±–µ–∑ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞)
- –ó–∞–ø—Ä–æ—Å –∫ –ë–î
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

| –£—Ä–æ–≤–µ–Ω—å –Ω–∞–≥—Ä—É–∑–∫–∏ | RPS | Latency (avg) | Latency (p99) | Errors | Status |
|------------------|-----|------------|----------------|--------|--------|
| Low (10 conn) | 2,365.73 | 3.62 ms | 7.00 ms | 0 | ‚úÖ PASS |
| High (100 conn) | 2,318.74 | 42.63 ms | 62.00 ms | 0 | ‚úÖ PASS |

**–í—ã–≤–æ–¥—ã:**
- ‚úÖ –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π RPS (~2,300 req/s)
- ‚úÖ –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–∞–∂–µ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ 139,096 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 60 —Å–µ–∫—É–Ω–¥ –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ API endpoint –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ HTML —Å—Ç—Ä–∞–Ω–∏—Ü

### GET `/new` - –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| RPS | 460.20 |
| Latency (avg) | 42.93 ms |
| Latency (p99) | 61.00 ms |
| Total Requests | 6,903 |
| Errors | 0 |

**–í—ã–≤–æ–¥—ã:**
- ‚úÖ –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

## üìà –ì—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ (GET `/`)

```
Latency (ms)
    |
 350|                                    ‚óè High Load (100 conn)
    |                              ‚óè
 300|                        ‚óè
    |                  ‚óè
 250|            ‚óè
    |      ‚óè
 200|  ‚óè Medium Load (50 conn)
    |‚óè
 150|  ‚óè
    |    ‚óè
 100|      ‚óè
    |        ‚óè
  50|          ‚óè Low Load (10 conn)
    |            ‚óè
   0|_____________________________
    0    20    40    60    80   100
          Connections
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ RPS –ø–æ endpoints

```
RPS
    |
2500|                    ‚óè GET /all (~2,300 RPS)
    |                    ‚óè
2000|                    ‚óè
    |                    ‚óè
1500|                    ‚óè
    |
1000|
    |
 500|        ‚óè GET /new (~460 RPS)
    |        ‚óè
    |  ‚óè GET / (~330 RPS)
    |  ‚óè
   0|__‚óè________________________
     GET /  GET /new  GET /all
```

## üéØ –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. ‚úÖ **–û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å API** - GET `/all` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ~2,300 RPS
2. ‚úÖ **–ù—É–ª–µ–≤–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö –Ω–∞–≥—Ä—É–∑–∫–∏
3. ‚úÖ **–•–æ—Ä–æ—à–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - RPS –æ—Å—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω—ã–º –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏
4. ‚úÖ **–ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ API** - —Å—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞ ~20ms –¥–ª—è JSON endpoints
5. ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ 204,984 –∑–∞–ø—Ä–æ—Å–æ–≤ –±–µ–∑ –æ—à–∏–±–æ–∫

### –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (GET `/`):**
   - –ó–∞–¥–µ—Ä–∂–∫–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å 30ms –¥–æ 303ms –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
     - –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î (Redis)
     - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã (–¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã)
     - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
     - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å server-side caching

2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ü—Ä–∏ —Ç–µ–∫—É—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
   - **–î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**
     - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—é Node.js (cluster module)
     - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–º –Ω–∞–≥—Ä—É–∑–∫–∏
     - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ë–î (—Ç–µ–∫—É—â–∏–π –ª–∏–º–∏—Ç: 10)

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å:**
     - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (Prometheus, Grafana)
     - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
     - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
     - APM –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (New Relic, Datadog)

## üîß –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ—Ä–æ–≥–∏:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ |
|---------|----------------|-------------|
| **RPS (GET `/`)** | < 200 | < 100 |
| **Latency (GET `/`)** | > 500ms | > 1000ms |
| **RPS (GET `/all`)** | < 1500 | < 1000 |
| **Latency (GET `/all`)** | > 100ms | > 500ms |
| **Error Rate** | > 0.1% | > 1% |

## üìù –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **autocannon** v7.12.0 - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **cli-table3** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Low Load:** 10 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, 10 —Å–µ–∫—É–Ω–¥
2. **Medium Load:** 50 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, 30 —Å–µ–∫—É–Ω–¥
3. **High Load:** 100 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, 60 —Å–µ–∫—É–Ω–¥

### –°–æ–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- ‚úÖ **RPS (Requests Per Second)** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- ‚úÖ **Latency** - –∑–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç–≤–µ—Ç–∞ (avg, min, max, p99)
- ‚úÖ **Throughput** - –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (KB/s)
- ‚úÖ **Error Rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫
- ‚úÖ **HTTP Status Codes** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (5 —Å–µ–∫—É–Ω–¥ –Ω–∞ endpoint)
npm run loadtest:quick

# –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
npm run loadtest

# –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
npm run loadtest:all

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á–µ—Ç–∞
npm run loadtest:report

# –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞
node scripts/loadtest-summary.js
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [LOADTEST_RESULTS.md](./LOADTEST_RESULTS.md) - –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [autocannon –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/mcollina/autocannon)
- [Node.js Performance Best Practices](https://nodejs.org/en/docs/guides/simple-profiling/)
- [MySQL Performance Tuning](https://dev.mysql.com/doc/refman/8.0/en/optimization.html)


